
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>外傘頂洲共和國｜慣性無限拖動跑馬燈</title>
  <style>
    body {
      background: #f9f9f9;
      font-family: 'Noto Sans TC', sans-serif;
      margin: 0;
      padding: 1rem;
    }

    .angled-marquee {
      background-color: #C3A06F;
      transform: rotate(-5deg);
      width: 60%;
      margin: 2rem auto;
      overflow: hidden;
      position: relative;
      height: 2rem;
      cursor: grab;
      user-select: none;
    }

    .marquee-track {
      display: flex;
      will-change: transform;
    }

    .marquee-item {
      flex-shrink: 0;
      padding: 0 2rem;
      font-size: 1.25rem;
      font-weight: bold;
      color: white;
      white-space: nowrap;
    }

    .angled-box {
      border: 1px solid #C3A06F;
      transform: rotate(2deg);
      width: 60%;
      margin: 2rem auto;
      padding: 1rem;
      background: #fff;
      font-size: 1rem;
      color: #222;
      line-height: 1.8;
      box-shadow: 0 0 5px rgba(0,0,0,0.05);
    }
  </style>
</head>
<body>

<div class="angled-marquee" id="marquee">
  <div class="marquee-track" id="track">
    <!-- 重複內容 3~4 次 -->
    <div class="marquee-item">🌊 歡迎光臨，外傘頂洲共和國 🌊</div>
    <div class="marquee-item">🌊 歡迎光臨，外傘頂洲共和國 🌊</div>
    <div class="marquee-item">🌊 歡迎光臨，外傘頂洲共和國 🌊</div>
    <div class="marquee-item">🌊 歡迎光臨，外傘頂洲共和國 🌊</div>
    <div class="marquee-item">🌊 歡迎光臨，外傘頂洲共和國 🌊</div>
  </div>
</div>

<div class="angled-box">
  <p>
    你可以不太正式地視這裡為一個與西蘭公國、玫瑰島共和國一樣的微國家（Micronation），或某幾塊黑水溝上的沙洲，自獨立後至今這裡皆處於流亡狀態；請特別留意，本站雖依照上述微國家精神設立，但非正式法人組織，請勿將外傘頂洲政府與其他歪七扭八的「政府」相互類比。<br><br>
    這裡沒有甚麼自古以來，聯合國2758號決議不關我們的事，外傘頂洲從來不是中國的一部分。
  </p>
</div>

<script>
  const track = document.getElementById("track");
  let isDown = false;
  let startX = 0;
  let currentTranslate = 0;
  let velocity = 0;
  let animationFrame;

  function animate() {
    currentTranslate += velocity;
    velocity *= 0.95; // 慣性衰減

    // 無限滾動檢查
    const trackWidth = track.scrollWidth / 2;
    if (currentTranslate < -trackWidth) currentTranslate += trackWidth;
    if (currentTranslate > 0) currentTranslate -= trackWidth;

    track.style.transform = `translateX(${currentTranslate}px)`;
    animationFrame = requestAnimationFrame(animate);
  }

  document.getElementById("marquee").addEventListener("mousedown", (e) => {
    isDown = true;
    startX = e.pageX;
    cancelAnimationFrame(animationFrame);
  });

  window.addEventListener("mouseup", () => {
    isDown = false;
    animationFrame = requestAnimationFrame(animate);
  });

  window.addEventListener("mousemove", (e) => {
    if (!isDown) return;
    const dx = e.pageX - startX;
    velocity = dx;
    currentTranslate += dx;
    track.style.transform = `translateX(${currentTranslate}px)`;
    startX = e.pageX;
  });

// 初始化
track.innerHTML += track.innerHTML; // 複製內容做無限滾動
animationFrame = requestAnimationFrame(animate);
</script>

</body>
</html>
